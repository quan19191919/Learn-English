<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üß† Memory Game - S·ªë ƒê·∫øm üî¢</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@300;400;700&family=Fredoka+One:wght@400&display=swap" rel="stylesheet">
    <style>
        body {
            background: url('https://png.pngtree.com/background/20230528/original/pngtree-cartoon-school-background-with-blue-sky-and-clouds-picture-image_2770957.jpg') center/cover no-repeat fixed;
            min-height: 100vh;
            font-family: 'Comic Neue', sans-serif;
        }
        
        .game-container {
            background: rgba(255,255,255,0.95);
            border-radius: 40px;
            padding: 2.5rem 2rem;
            color: #4b2991;
            margin-bottom: 2.5rem;
            border: 6px solid #764ba2;
            box-shadow: 0 20px 60px rgba(78, 205, 196, 0.18);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .card {
            width: 110px;
            height: 110px;
            background: linear-gradient(135deg, #FFF8DC, #F0F8FF);
            border: 4px solid #764ba2;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 8px 20px rgba(118, 75, 162, 0.3);
            font-size: 1.4rem;
            font-weight: 700;
            color: #4b2991;
            text-align: center;
            padding: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 12px 30px rgba(118, 75, 162, 0.4);
        }
        
        .card.flipped {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-color: #2196f3;
            transform: scale(1.05);
        }
        
        .card.matched {
            background: linear-gradient(135deg, #d4edda, #c3e6cb) !important;
            border-color: #28a745 !important;
            color: #155724 !important;
            animation: matchSuccess 0.8s ease-in-out;
        }
        
        @keyframes matchSuccess {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); box-shadow: 0 0 30px rgba(40, 167, 69, 0.6); }
        }
        
        .card-back {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-color: #6c757d;
            color: #495057;
        }
        
        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, #28a745, #20c997);
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 30px rgba(40, 167, 69, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 8px 20px rgba(255, 193, 7, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-secondary:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 30px rgba(255, 193, 7, 0.4);
        }
        
        /* Score panel */
        .score-panel {
            background: rgba(255, 255, 255, 0.9);
            border: 3px solid #764ba2;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(118, 75, 162, 0.2);
            margin-bottom: 2rem;
        }
        
        /* Modal styling */
        .modal-content {
            background: rgba(255, 255, 255, 0.95);
            border: 4px solid #764ba2;
            border-radius: 25px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
        }
        
        /* Success celebration */
        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5rem;
            z-index: 1000;
            animation: celebrate 2s ease-in-out;
            pointer-events: none;
        }
        
        @keyframes celebrate {
            0% { transform: translate(-50%, -50%) scale(0) rotate(0deg); opacity: 0; }
            25% { transform: translate(-50%, -50%) scale(1.2) rotate(90deg); opacity: 1; }
            50% { transform: translate(-50%, -50%) scale(1) rotate(180deg); opacity: 1; }
            75% { transform: translate(-50%, -50%) scale(1.1) rotate(270deg); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(0) rotate(360deg); opacity: 0; }
        }
        
        /* Floating decorations */
        .floating-decoration {
            position: absolute;
            animation: floatAround 8s ease-in-out infinite;
            z-index: 1;
            opacity: 0.6;
        }
        
        @keyframes floatAround {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(120deg); }
            66% { transform: translateY(10px) rotate(240deg); }
        }
        
        /* Game grid */
        .game-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            justify-items: center;
            margin: 2rem auto;
            max-width: 500px;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .game-container { padding: 1.5rem 1rem; }
            .card { width: 80px; height: 80px; font-size: 1.1rem; }
            .game-grid { gap: 10px; max-width: 350px; }
            .btn-primary, .btn-secondary { padding: 12px 24px; font-size: 1rem; }
        }
        
        @media (max-width: 480px) {
            .card { width: 70px; height: 70px; font-size: 1rem; }
            .game-grid { gap: 8px; max-width: 300px; }
        }
    </style>
</head>

<body class="bg-gradient-to-br from-pink-50 to-purple-50 min-h-screen">
    <!-- Floating Decorations -->
    <div class="floating-decoration text-4xl" style="top: 10%; left: 5%; animation-delay: 0s;">üåü</div>
    <div class="floating-decoration text-4xl" style="top: 20%; right: 10%; animation-delay: 2s;">üéØ</div>
    <div class="floating-decoration text-4xl" style="bottom: 15%; left: 8%; animation-delay: 4s;">üé®</div>
    <div class="floating-decoration text-4xl" style="bottom: 25%; right: 5%; animation-delay: 6s;">‚≠ê</div>

    <!-- Navbar -->
    <nav class="flex items-center justify-between px-6 py-4 shadow-md bg-white sticky top-0 z-50">
        <div class="flex items-center space-x-2">
            <span class="font-bold text-pink-900 text-lg">Memory Game - Numbers</span>
        </div>
        <div class="space-x-4 text-base">
            <a href="../../../../pages/Home.html" class="hover:text-pink-600">Trang ch·ªß</a>
            <a href="../../botuvung.html" class="hover:text-pink-600">B·ªô t·ª´ v·ª±ng</a>
            <a href="index.html" class="bg-pink-900 text-white px-4 py-1.5 rounded font-medium">Quay v·ªÅ Games</a>
        </div>
    </nav>

    <!-- Main Game Area -->
    <main class="max-w-4xl mx-auto px-6 py-8">
        <!-- Game Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-pink-900 mb-2" style="font-family: 'Fredoka One', cursive;">üß† Memory Game</h1>
            <p class="text-lg text-gray-600">Gh√©p t·ª´ ti·∫øng Anh v·ªõi h√¨nh minh h·ªça t∆∞∆°ng ·ª©ng!</p>
        </div>

        <!-- Score and Progress -->
        <div class="score-panel flex flex-wrap justify-between items-center gap-4">
            <div class="text-lg font-semibold text-pink-800">
                ƒêi·ªÉm: <span id="score">0</span>
            </div>
            <div class="text-lg font-semibold text-blue-800">
                C·∫∑p ƒë√£ gh√©p: <span id="matched-pairs">0</span>/<span id="total-pairs">4</span>
            </div>
            <div class="text-lg font-semibold text-purple-800">
                Th·ªùi gian: <span id="timer">60</span> gi√¢y
            </div>
        </div>

        <!-- Game Container -->
        <div class="game-container">
            <div id="gameBoard" class="game-grid">
                <!-- Game cards will be inserted here -->
            </div>
        </div>

        <!-- Control Buttons -->
        <div class="flex flex-wrap justify-center gap-6 mt-8">
            <button onclick="restartGame()" class="btn-primary">
                üîÑ Ch∆°i l·∫°i
            </button>
            <a href="index.html" class="btn-secondary">
                üîô Quay v·ªÅ Games
            </a>
        </div>
    </main>

    <!-- Completion Modal -->
    <div id="completion-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
        <div class="modal-content p-8 max-w-md w-full mx-4 text-center">
            <div class="text-6xl mb-4">üéâ</div>
            <h2 class="text-2xl font-bold text-pink-900 mb-4" style="font-family: 'Fredoka One', cursive;">Ch√∫c m·ª´ng!</h2>
            <p class="text-lg text-gray-600 mb-2">B·∫°n ƒë√£ ho√†n th√†nh tr√≤ ch∆°i!</p>
            <p class="text-xl font-semibold text-pink-800 mb-4">
                ƒêi·ªÉm c·ªßa b·∫°n: <span id="final-score">0</span>
            </p>
            <p class="text-lg text-purple-800 mb-6">
                Th·ªùi gian: <span id="final-time">00:00</span>
            </p>
            <div class="space-x-4">
                <button onclick="playAgain()" class="btn-primary">
                    üîÑ Ch∆°i l·∫°i
                </button>
                <a href="index.html" class="btn-secondary">
                    üéÆ V·ªÅ Games
                </a>
            </div>
        </div>
    </div>

    <audio id="applause" src="https://www.soundjay.com/human/applause-8.mp3"></audio>

    <script>
        const wordsSet = [
            [{
                word: "one",
                emoji: "1Ô∏è‚É£"
            }, {
                word: "two",
                emoji: "2Ô∏è‚É£"
            }, {
                word: "three",
                emoji: "3Ô∏è‚É£"
            }, {
                word: "four",
                emoji: "4Ô∏è‚É£"
            }, {
                word: "five",
                emoji: "5Ô∏è‚É£"
            }, {
                word: "six",
                emoji: "6Ô∏è‚É£"
            }, {
                word: "seven",
                emoji: "7Ô∏è‚É£"
            }, {
                word: "eight",
                emoji: "8Ô∏è‚É£"
            },{
                word: "nine",
                emoji: "9Ô∏è‚É£"
            }, {
                word: "ten",
                emoji: "üîü"
            }, {
                word: "zero",
                emoji: "0Ô∏è‚É£"
            }]
        ];

        let score = 0;
        let timer = 60;
        let flippedCards = [];
        let matchedCards = [];
        let interval;
        let words = [];
        let totalPairs = 0;

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            window.speechSynthesis.speak(utterance);
        }

        function updateProgress() {
            document.getElementById('matched-pairs').textContent = matchedCards.length;
            document.getElementById('total-pairs').textContent = totalPairs;
        }

        function showCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            celebration.innerHTML = 'üéâüéä‚ú®';
            document.body.appendChild(celebration);
            setTimeout(() => celebration.remove(), 2000);
        }

        function generateCards() {
            const gameBoard = document.getElementById("gameBoard");
            gameBoard.innerHTML = "";
            const cards = [];

            shuffle(words).forEach(item => {
                cards.push({
                    type: "word",
                    content: item.word,
                    id: item.word
                });
                cards.push({
                    type: "emoji",
                    content: item.emoji,
                    id: item.word
                });
            });

            shuffle(cards).forEach((card, index) => {
                const div = document.createElement("div");
                div.className = "card";
                div.dataset.id = card.id;
                div.dataset.index = index;
                div.dataset.type = card.type;
                div.onclick = () => flipCard(div, card);
                gameBoard.appendChild(div);
            });
        }

        function flipCard(cardElement, cardData) {
            if (flippedCards.length >= 2 || cardElement.classList.contains("matched")) return;

            cardElement.textContent = cardData.content;
            cardElement.classList.add('flipped');
            flippedCards.push({
                element: cardElement,
                id: cardData.id,
                type: cardData.type
            });

            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 700);
            }
        }

        function checkMatch() {
            const [first, second] = flippedCards;

            if (first.id === second.id && first.element !== second.element) {
                first.element.classList.add("matched");
                second.element.classList.add("matched");
                matchedCards.push(first.id);
                score += 10;
                document.getElementById("score").textContent = score;
                updateProgress();

                if (first.type === 'word') speak(first.id);
                else speak(second.id);

                if (matchedCards.length === words.length) {
                    clearInterval(interval);
                    showCelebration();
                    setTimeout(completeGame, 1500);
                    document.getElementById("applause").play();
                }
            } else {
                first.element.textContent = "";
                second.element.textContent = "";
                first.element.classList.remove('flipped');
                second.element.classList.remove('flipped');
            }

            flippedCards = [];
        }

        function startTimer() {
            timer = 60;
            document.getElementById("timer").textContent = timer;
            interval = setInterval(() => {
                timer--;
                document.getElementById("timer").textContent = timer;

                if (timer <= 0) {
                    clearInterval(interval);
                    alert("‚è∞ H·∫øt gi·ªù! H√£y th·ª≠ l·∫°i!");
                    restartGame();
                }
            }, 1000);
        }

        function completeGame() {
            clearInterval(interval);
            
            const finalTime = 60 - timer;
            const minutes = Math.floor(finalTime / 60);
            const seconds = finalTime % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('final-score').textContent = score;
            document.getElementById('final-time').textContent = timeString;
            document.getElementById('completion-modal').classList.remove('hidden');
        }

        function playAgain() {
            document.getElementById('completion-modal').classList.add('hidden');
            restartGame();
        }

        function restartGame() {
            const randomSet = wordsSet[Math.floor(Math.random() * wordsSet.length)];
            words = JSON.parse(JSON.stringify(randomSet));
            totalPairs = words.length;
            score = 0;
            matchedCards = [];
            flippedCards = [];
            document.getElementById("score").textContent = score;
            updateProgress();
            clearInterval(interval);
            startTimer();
            generateCards();
        }

        window.onload = () => {
            restartGame();
        }
    </script>
</body>

</html>